# gpf
####[GLSL PARTICLE FONT](http://ikeryou.jp/works/g/ "GLSL PARTICLE FONT")####
<img src="http://ikeryou.jp/works/g/assets/img/ogp/ogp.png">

##100万個以上のパーティクルをアニメーションさせたい


だけど、、

Javascriptで100万個のパーティクルに別々の動きをつけるのは負荷的に無理


```javascript

i = 0;
while i < 1000000
  
  // パーティクルを動かす処理
  
  i++;

```


こんな感じなのをfps60で毎フレーム実行とかやると、、  
負荷クッッソ高い！！  


##どうするか？？

GPUでパーティクルを動かす計算をする



##GPU？
クッッソ計算が早い！！  
普段javascriptでごにょごにょやってるのはCPUで計算してる  
20~100倍違う！！



##なんで皆やらないのか？？

ブラウザでGPU計算する場合はGLSLを使う  
GLSLクッッソむずい  
そもそもGPUは画像処理専門  
アニメーション計算とかは向いてない  
だけどアニメーション計算しようぜ！！  
GPGPUっていう考え方がある


##GPGPU？
画像処理専門だけどそれ以外のことにもGPU使おうぜ！  
っていうウラトラC  
エクセルでイラスト描くようななもの


(例)  
テクスチャをアニメーションデータとして利用する(変態)  
https://wgld.org/d/webgl/w083.html



今回僕がやったのは、  
js側で頂点データを随時更新すると負荷が高いので更新せず、  
GPU側に"サイト開いてから経過した時間"を送り、  
GPU側はそれをもとに移動後の座標を計算してアニメーションさせてます  
(簡単にいうと、x=0の頂点に経過時間timeを足していくとtime=10のときにはx=10になる。という考え方)





##まとめ

###GPGPUクッッソやばい！！



